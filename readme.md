# 设计模式笔记

## 六大设计原则：

开闭原则：一个软件实体如类、模块和函数应该对修改封闭，对扩展开放。
单一职责原则：一个类只做一件事，一个类应该只有一个引起它修改的原因。
里氏替换原则：子类应该可以完全替换父类。也就是说在使用继承时，只扩展新功能，而不要破坏父类原有的功能。
依赖倒置原则：细节应该依赖于抽象，抽象不应依赖于细节。把抽象层放在程序设计的高层，并保持稳定，程序的细节变化由低层的实现层来完成。
迪米特法则：又名“最少知道原则”，一个类不应知道自己操作的类的细节，换言之，只和朋友谈话，不和朋友的朋友谈话。
接口隔离原则：客户端不应依赖它不需要的接口。如果一个接口在实现时，部分方法由于冗余被客户端空实现，则应该将接口拆分，让实现类只需依赖自己需要的接口方法。

## 一构建型模式

1. 工厂方法模式：为每一类对象建立工厂，将对象交由工厂创建，客户端只和工厂打交道。
2. 抽象工厂模式：为每一类工厂提取出抽象接口，使得新增工厂、替换工厂变得非常容易。
3. 建造者模式：用于创建构造过程稳定的对象，不同的 Builder 可以定义不同的配置。
4. 单例模式：全局使用同一个对象，分为饿汉式和懒汉式。懒汉式有双检锁和内部类两种实现方式。
5. 原型模式：为一个类定义 clone 方法，使得创建相同的对象更方便。


### 1工厂模式
每次构建对象通过new的方式，不利于松耦合。构建过程可以封装起来，工厂模式是用于封装对象的设计模式。

1. 公共工厂接口，
2. 具体的每个实例工厂实现接口，
3. 在使用时就无需再关心是哪个工厂类，只需要将此工厂当作抽象的 IFactory 接口使用即可。这种经过抽象的工厂方法模式被称作抽象工厂模式。


### 2单例模式
全局只需要一个实例时，使用单例。
1. 避免重复创建
2. 避免操作不同实例导致逻辑错误

实现方式有：
1. 饿汉式
2. 懒汉式

> 著名的软件大师 Martin 在《代码整洁之道》一书中也说到：不提倡使用懒加载方式，因为程序应该将构建与使用分离，达到解耦。饿汉式在声明时直接初始化变量的方式也更直观易懂。所以在使用饿汉式还是懒汉式时，需要权衡利弊。

### 3建造者模式
将一个复杂的构建与其表示相分离，使得同样的构建过程可以创建不同的表示。
建造者模式主要用来通过链式调用生成不同的配置
比如我们要制作一杯珍珠奶茶。它的制作过程是稳定的，除了必须要知道奶茶的种类和规格外，是否加珍珠和是否加冰是可选的。


### 4原型模式
用原型实例指定创建对象的种类，并且通过拷贝这些原型创建新的对象。
原型模式就是用来克隆对象的。

## 结构型模式 Structural Patterns